<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3CX 互動式故障排除導航</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is structured as a task-oriented diagnostic tool rather than a linear report. It starts with a hero section to introduce its purpose. The core is an interactive "Diagnostic Flow" where users select a problem category, which then dynamically reveals a tailored solution path based on the report's "Three-Tier Support Model". This is followed by a "Quick Reference Tools" section with tabs for direct access to key tables (Common Scenarios, Local Support). This structure was chosen to be highly user-centric, guiding the PM directly to actionable solutions, reducing cognitive load by showing only relevant information, and reinforcing the report's core troubleshooting framework in a practical, interactive way. -->
    <!-- Visualization & Content Choices: Report Info: The "Three-Tier Support Model" is the core concept. Goal: Visually represent the model and guide users. Viz/Presentation Method: Interactive HTML/CSS cards with icons (book, people, building) instead of a static chart. Interaction: Cards are dynamically generated and highlighted based on user's problem selection in the diagnostic flow. Justification: This approach is more engaging and memorable, turning a conceptual model into a practical part of the diagnostic tool. Report Info: Troubleshooting tables. Goal: Provide quick lookups. Viz/Presentation Method: Interactive tabs containing styled HTML tables. Interaction: Users click tabs to switch views. Justification: Tabs are an intuitive UI pattern for organizing distinct datasets, keeping the interface clean and preventing excessive scrolling. Library/Method: Vanilla JavaScript for all interactions. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        .tab-btn.active {
            border-color: #14b8a6;
            color: #14b8a6;
            font-weight: 600;
        }
        .tab-panel {
            display: none;
        }
        .tab-panel.active {
            display: block;
        }
        .card-tier {
            transition: all 0.3s ease-in-out;
            border: 2px solid transparent;
        }
        .card-tier.recommended {
            border-color: #f59e0b;
            transform: translateY(-8px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-6xl">

        <header class="text-center py-12">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-700 mb-4">3CX 互動式故障排除導航</h1>
            <p class="text-lg text-stone-600 max-w-3xl mx-auto">
                這是一個為3CX服務產品經理設計的輔助工具。它將官方報告轉化為一個互動式的診斷流程，幫助您快速定位問題、識別最佳解決方案路徑，並高效運用官方、社群及在地資源。
            </p>
        </header>

        <main>
            <section id="diagnostic-tool" class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-stone-200 mb-12">
                <h2 class="text-2xl font-bold text-center text-stone-700 mb-2">步驟一：選擇您遇到的問題類型</h2>
                <p class="text-center text-stone-500 mb-8">請根據客戶回報的問題，選擇最接近的分類。系統將為您呈現建議的解決方案路徑。</p>
                <div id="problem-categories" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4">
                </div>
            </section>

            <section id="solution-path" class="hidden">
                <h2 class="text-2xl font-bold text-center text-stone-700 mb-8">步驟二：建議的解決方案路徑</h2>
                <div id="solution-output" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                </div>
            </section>

            <section id="quick-reference" class="mt-16">
                <h2 class="text-3xl font-bold text-center text-stone-700 mb-8">快速參考工具</h2>
                <p class="text-center text-stone-500 mb-8 max-w-2xl mx-auto">
                    若您想直接查閱特定資訊，而非透過診斷流程，可以在此處快速找到常見問題情境與台灣在地支援夥伴的聯絡方式。
                </p>
                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg border border-stone-200">
                    <div class="border-b border-stone-200 mb-6">
                        <nav id="tab-buttons" class="flex space-x-4 sm:space-x-8 -mb-px" aria-label="Tabs">
                            <button data-tab="common-scenarios" class="tab-btn active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-stone-500 hover:text-teal-600 hover:border-teal-500">
                                常見問題情境
                            </button>
                            <button data-tab="local-support" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-stone-500 hover:text-teal-600 hover:border-teal-500">
                                台灣在地支援
                            </button>
                        </nav>
                    </div>
                    
                    <div id="tab-panels">
                        <div id="common-scenarios-panel" class="tab-panel active">
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-stone-200">
                                    <thead class="bg-stone-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">問題現象</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">可能原因</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">排查起點</th>
                                        </tr>
                                    </thead>
                                    <tbody id="common-scenarios-tbody" class="bg-white divide-y divide-stone-200">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="local-support-panel" class="tab-panel">
                             <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-stone-200">
                                    <thead class="bg-stone-50">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">公司名稱</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">服務範疇</th>
                                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-stone-500 uppercase tracking-wider">聯絡資訊</th>
                                        </tr>
                                    </thead>
                                    <tbody id="local-support-tbody" class="bg-white divide-y divide-stone-200">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center py-10 mt-12 border-t border-stone-200">
            <p class="text-sm text-stone-500">此應用程式內容基於《3CX語音系統問題排除：針對產品經理的線上資源與技術支援指南》報告生成。</p>
        </footer>
    </div>

    <script>
        const db = {
            categories: [
                { id: 'deploy', name: '安裝與部署', icon: '⚙️', recommendation: ['official', 'community', 'local'] },
                { id: 'sip', name: 'SIP Trunk', icon: '↔️', recommendation: ['official', 'community', 'local'] },
                { id: 'app', name: '終端應用 (Web/App)', icon: '📱', recommendation: ['official', 'community', 'local'] },
                { id: 'quality', name: '通話品質', icon: '🔊', recommendation: ['community', 'official', 'local'] },
                { id: 'hardware', name: '整合與硬體', icon: '🔌', recommendation: ['community', 'official', 'local'] },
                { id: 'license', name: '授權與業務', icon: '📄', recommendation: ['local', 'official', 'community'] }
            ],
            tiers: {
                official: {
                    title: '第一層：官方權威資源',
                    icon: '📚',
                    description: '處理標準配置、軟體功能或官方支援硬體問題的首要起點。內容準確、系統化且權威。',
                    resources: [
                        { name: '3CX Academy', url: 'https://www.3cx.com/3cxacademy/' },
                        { name: '管理手冊 (Admin Manual)', url: 'https://www.3cx.com/admin-manual/' },
                        { name: '用戶手冊 (User Manual)', url: 'https://www.3cx.com/user-manual/' },
                        { name: '官方部落格與教學', url: 'https://www.3cx.com/blog/' }
                    ]
                },
                community: {
                    title: '第二層：社群實戰經驗',
                    icon: '👥',
                    description: '當官方文件無法直接解答時，可在此找到真實世界中的複雜問題、非標準解決方案與診斷思路。',
                    resources: [
                        { name: '3CX 官方論壇', url: 'https://www.3cx.com/community/' },
                        { name: 'Reddit r/3CX', url: 'https://www.reddit.com/r/3CX/' },
                        { name: 'Reddit r/sysadmin', url: 'https://www.reddit.com/r/sysadmin/' }
                    ]
                },
                local: {
                    title: '第三層：在地專業服務',
                    icon: '🏢',
                    description: '當問題涉及現場勘查、複雜硬體配置、網路佈線或需客製化方案時，在地夥伴是最終的可靠後盾。',
                    resources: [
                        { name: '尋找台灣合作夥伴', url: 'https://www.3cx.com/ordering/find-reseller/' }
                    ]
                }
            },
            commonScenarios: [
                {
                    issue: '電話無法撥出',
                    cause: '呼出規則錯誤、SIP Trunk狀態異常',
                    start: '檢查呼出規則配置，確認SIP Trunk是否註冊。'
                },
                {
                    issue: '來電無法接通',
                    cause: '通話路由規則錯誤、手機App未註冊',
                    start: '檢查通話群組/佇列設定，確認手機App登入狀態。'
                },
                {
                    issue: '通話中斷',
                    cause: '網路不穩定、防火牆SIP ALG功能開啟',
                    start: '檢查網路連線品質，禁用防火牆SIP ALG功能。'
                },
                {
                    issue: '登入失敗',
                    cause: '帳號密碼錯誤、網路連線問題、版本升級後台登入資訊丟失',
                    start: '重設密碼，確認網路連線，查閱論壇升級相關討論。'
                },
                {
                    issue: '單向語音',
                    cause: '防火牆RTP端口被阻擋、NAT設置錯誤',
                    start: '檢查防火牆配置，特別是RTP端口轉發。'
                }
            ],
            localSupport: [
                {
                    name: '台灣糧品-Taiwan Bonvies',
                    scope: '3CX顧問服務、系統規劃、建置與售後技術支援<br>網站：<a href="https://www.bonvies.com" target="_blank" class="text-teal-600 hover:text-teal-800 hover:underline">https://www.bonvies.com</a> (提供線上客服)',
                    contact: '電話：02-8866-5680<br>E-Mail：customers@bonvies.com'
                },
                {
                    name: '匯流通訊有限公司',
                    scope: '銷售、系統規劃、安裝、售後服務 (台灣授權代理商)',
                    contact: '電話：(02)7729-2780<br>E-Mail：support@sipnet.com.tw'
                },
                {
                    name: '高宏資訊股份有限公司',
                    scope: '3CX系統軟體銷售（永久版/年租版）、相關工程服務',
                    contact: '電話：02-77305985<br>免付費專線：0809-075-168'
                }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            const categoriesContainer = document.getElementById('problem-categories');
            const solutionPathSection = document.getElementById('solution-path');
            const solutionOutputContainer = document.getElementById('solution-output');
            
            const commonScenariosTbody = document.getElementById('common-scenarios-tbody');
            const localSupportTbody = document.getElementById('local-support-tbody');

            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabPanels = document.querySelectorAll('.tab-panel');

            function populateCategories() {
                db.categories.forEach(cat => {
                    const button = document.createElement('button');
                    button.className = 'p-6 bg-stone-100 hover:bg-teal-100 rounded-lg text-center transition duration-300 ease-in-out transform hover:-translate-y-1';
                    button.dataset.id = cat.id;
                    button.innerHTML = `
                        <div class="text-4xl mb-2">${cat.icon}</div>
                        <div class="font-semibold text-stone-700">${cat.name}</div>
                    `;
                    button.addEventListener('click', () => handleCategoryClick(cat));
                    categoriesContainer.appendChild(button);
                });
            }

            function handleCategoryClick(category) {
                solutionPathSection.classList.remove('hidden');
                solutionOutputContainer.innerHTML = '';
                
                category.recommendation.forEach((tierId, index) => {
                    const tier = db.tiers[tierId];
                    const card = document.createElement('div');
                    card.className = 'card-tier bg-white p-6 rounded-xl shadow-md border-2 border-stone-100';
                    if (index === 0) {
                        card.classList.add('recommended');
                    }
                    
                    let resourcesHtml = tier.resources.map(res => 
                        `<li><a href="${res.url}" target="_blank" rel="noopener noreferrer" class="text-teal-600 hover:text-teal-800 hover:underline">${res.name}</a></li>`
                    ).join('');

                    card.innerHTML = `
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">${tier.icon}</span>
                            <h3 class="text-lg font-bold text-stone-800">${tier.title}</h3>
                        </div>
                        <p class="text-sm text-stone-600 mb-4">${tier.description}</p>
                        <h4 class="font-semibold text-sm text-stone-700 mb-2">主要資源：</h4>
                        <ul class="list-disc list-inside space-y-1 text-sm">
                            ${resourcesHtml}
                        </ul>
                        ${index === 0 ? '<div class="mt-4 text-xs font-bold text-amber-600 bg-amber-100 p-2 rounded-md">⭐ 建議優先由此處著手</div>' : ''}
                    `;
                    solutionOutputContainer.appendChild(card);
                });

                setTimeout(() => {
                    solutionPathSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }

            function populateTables() {
                db.commonScenarios.forEach(item => {
                    const row = commonScenariosTbody.insertRow();
                    row.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">${item.issue}</td>
                        <td class="px-6 py-4 whitespace-normal text-sm text-stone-500">${item.cause}</td>
                        <td class="px-6 py-4 whitespace-normal text-sm text-stone-500">${item.start}</td>
                    `;
                });

                db.localSupport.forEach(item => {
                    const row = localSupportTbody.insertRow();
                    row.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">${item.name}</td>
                        <td class="px-6 py-4 whitespace-normal text-sm text-stone-500">${item.scope}</td>
                        <td class="px-6 py-4 whitespace-normal text-sm text-stone-500">${item.contact}</td>
                    `;
                });
            }

            function handleTabClick(event) {
                const targetTab = event.currentTarget.dataset.tab;

                tabButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.tab === targetTab);
                });

                tabPanels.forEach(panel => {
                    panel.classList.toggle('active', panel.id === `${targetTab}-panel`);
                });
            }

            tabButtons.forEach(btn => btn.addEventListener('click', handleTabClick));

            populateCategories();
            populateTables();
        });
    </script>
</body>
</html>


